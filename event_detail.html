<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>活動詳情 - 校園社團活動管理系統</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    body {
      background: linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%);
      min-height: 100vh;
    }
    .navbar {
      background: #4f8cff;
    }
    .navbar-brand, .nav-link, .navbar-text {
      color: #fff !important;
    }
    .event-detail-card {
      border-radius: 1.2rem;
      box-shadow: 0 2px 16px rgba(79,140,255,0.10);
      margin-top: 2rem;
      background: #fff;
    }
    .event-img {
      border-radius: 1.2rem 1.2rem 0 0;
      object-fit: cover;
      width: 100%;
      height: 260px;
    }
    .category-badge {
      background: #e0e7ff;
      color: #4f8cff;
      font-size: 0.95em;
      border-radius: 0.5rem;
      padding: 0.2em 0.7em;
      margin-right: 0.5em;
    }
    .comment-avatar {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      object-fit: cover;
      background: #e0e7ff;
      display: inline-block;
    }
    @media (max-width: 576px) {
      .event-img { height: 140px; }
      .event-detail-card { margin-top: 1rem; }
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg mb-4">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html"><i class="fa-solid fa-people-group me-2"></i>社團活動管理</a>
      <span class="navbar-text ms-auto"><i class="fa-solid fa-user-circle me-1"></i>student</span>
    </div>
  </nav>
  <div class="container">
    <div class="card event-detail-card mx-auto" style="max-width: 700px;">
      <img id="eventImg" class="event-img" src="" alt="活動圖片">
      <div class="card-body">
        <span class="category-badge" id="eventCategory"><i class="fa-solid fa-tag"></i></span>
        <span class="badge bg-light text-secondary ms-1" id="eventDate"><i class="fa-solid fa-calendar-day"></i></span>
        <h3 class="card-title mt-2" id="eventTitle"></h3>
        <p class="mb-1 text-muted"><i class="fa-solid fa-user-group me-1"></i><span id="eventOrganizer"></span></p>
        <p class="card-text" id="eventDesc"></p>
        <div class="d-flex align-items-center gap-2 mt-3">
          <button id="registerBtn" class="btn btn-primary"><i class="fa-solid fa-user-plus me-1"></i>報名參加</button>
          <button id="cancelBtn" class="btn btn-outline-danger d-none"><i class="fa-solid fa-xmark me-1"></i>取消報名</button>
          <span id="regStatus" class="ms-2"></span>
        </div>
      </div>
    </div>
    <div class="card mx-auto mt-4" style="max-width: 700px;">
      <div class="card-body">
        <h5 class="mb-3"><i class="fa-solid fa-comments me-2 text-primary"></i>留言討論</h5>
        <form id="commentForm" class="mb-3 d-flex gap-2">
          <img src="https://randomuser.me/api/portraits/men/32.jpg" class="comment-avatar" alt="avatar">
          <input type="text" class="form-control" id="commentInput" placeholder="輸入留言...">
          <button type="submit" class="btn btn-primary"><i class="fa-solid fa-paper-plane"></i></button>
        </form>
        <div id="commentsList">
          <!-- 留言將由 JS 動態產生 -->
        </div>
      </div>
    </div>
  </div>
  <script>
    // 假活動資料
    const event = {
      id: 1,
      title: '社團迎新茶會',
      category: '社團講座',
      date: '2025-07-20',
      organizer: '吉他社',
      image: 'https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=700&q=80',
      description: '歡迎新生加入吉他社，現場有精彩表演與抽獎活動！'
    };
    // 假留言資料
    let comments = [
      { user: '小明', avatar: 'https://randomuser.me/api/portraits/men/1.jpg', content: '請問需要自備樂器嗎？', time: '2025-07-10 14:20' },
      { user: '社長', avatar: 'https://randomuser.me/api/portraits/men/2.jpg', content: '不用，現場有提供！', time: '2025-07-10 15:00' }
    ];
    let registered = false;
    function renderEvent() {
      document.getElementById('eventImg').src = event.image;
      document.getElementById('eventCategory').innerHTML = `<i class='fa-solid fa-tag'></i> ${event.category}`;
      document.getElementById('eventDate').innerHTML = `<i class='fa-solid fa-calendar-day'></i> ${event.date}`;
      document.getElementById('eventTitle').textContent = event.title;
      document.getElementById('eventOrganizer').textContent = event.organizer;
      document.getElementById('eventDesc').textContent = event.description;
      updateRegBtns();
    }
    function updateRegBtns() {
      const regBtn = document.getElementById('registerBtn');
      const cancelBtn = document.getElementById('cancelBtn');
      const regStatus = document.getElementById('regStatus');
      if (registered) {
        regBtn.classList.add('d-none');
        cancelBtn.classList.remove('d-none');
        regStatus.innerHTML = '<span class="badge bg-success"><i class="fa-solid fa-check"></i> 已報名</span>';
      } else {
        regBtn.classList.remove('d-none');
        cancelBtn.classList.add('d-none');
        regStatus.innerHTML = '';
      }
    }
    document.getElementById('registerBtn').onclick = function() {
      registered = true;
      updateRegBtns();
    };
    document.getElementById('cancelBtn').onclick = function() {
      registered = false;
      updateRegBtns();
    };
    function renderComments() {
      const list = document.getElementById('commentsList');
      list.innerHTML = '';
      comments.forEach(c => {
        list.innerHTML += `
          <div class="d-flex align-items-start mb-3">
            <img src="${c.avatar}" class="comment-avatar me-2" alt="avatar">
            <div>
              <div class="fw-bold">${c.user} <span class="text-muted small ms-2">${c.time}</span></div>
              <div>${c.content}</div>
            </div>
          </div>
        `;
      });
    }
    document.getElementById('commentForm').onsubmit = function(e) {
      e.preventDefault();
      const input = document.getElementById('commentInput');
      if (!input.value.trim()) return;
      comments.push({
        user: 'student',
        avatar: 'https://randomuser.me/api/portraits/men/32.jpg',
        content: input.value,
        time: new Date().toLocaleString('zh-TW', { hour12: false })
      });
      input.value = '';
      renderComments();
    };
    renderEvent();
    renderComments();
  </script>
</body>
</html>
